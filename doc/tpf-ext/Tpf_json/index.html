<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tpf_json (tpf-ext.Tpf_json)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">tpf-ext</a> &#x00BB; Tpf_json</nav><h1>Module <code>Tpf_json</code></h1><p>Generic JSON converters.</p><p>Generic <a href="Enc/index.html"><span>injections</span></a> / <a href="Dec/index.html"><span>projections</span></a> between a type and a general purpose <a href="index.html#type-json"><span>JSON tree</span></a>.</p><p>The tree type is non-generative, so it works with any underlying library for (de-)serialization. Howerver, the particular tree shape was chosen for compatibility with <a href="https://github.com/ocaml-community/yojson">Joyson</a>.</p><nav class="toc"><ul><li><a href="#encoders">Encoders</a></li><li><a href="#decoders">Decoders</a></li></ul></nav></header><dl><dt class="spec type" id="type-json"><a href="#type-json" class="anchor"></a><code><span class="keyword">type</span> json</code> = <code>[ </code><table class="variant"><tr id="type-json.Null" class="anchored"><td class="def constructor"><a href="#type-json.Null" class="anchor"></a><code>| </code><code>`Null</code></td></tr><tr id="type-json.Bool" class="anchored"><td class="def constructor"><a href="#type-json.Bool" class="anchor"></a><code>| </code><code>`Bool <span class="keyword">of</span> bool</code></td></tr><tr id="type-json.Int" class="anchored"><td class="def constructor"><a href="#type-json.Int" class="anchor"></a><code>| </code><code>`Int <span class="keyword">of</span> int</code></td></tr><tr id="type-json.Float" class="anchored"><td class="def constructor"><a href="#type-json.Float" class="anchor"></a><code>| </code><code>`Float <span class="keyword">of</span> float</code></td></tr><tr id="type-json.String" class="anchored"><td class="def constructor"><a href="#type-json.String" class="anchor"></a><code>| </code><code>`String <span class="keyword">of</span> string</code></td></tr><tr id="type-json.List" class="anchored"><td class="def constructor"><a href="#type-json.List" class="anchor"></a><code>| </code><code>`List <span class="keyword">of</span> <a href="index.html#type-json">json</a> list</code></td></tr><tr id="type-json.Assoc" class="anchored"><td class="def constructor"><a href="#type-json.Assoc" class="anchor"></a><code>| </code><code>`Assoc <span class="keyword">of</span> (string * <a href="index.html#type-json">json</a>) list</code></td></tr></table><code> ]</code></dt><dd><p>JSON trees.</p><p><em>Note.</em> This is <span class="xref-unresolved" title="unresolved reference to &quot;Yojson.Basic.t&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Yojson.Basic&quot;"><code>Yojson</code>.Basic</span>.t</span>.</p></dd></dl><dl><dt class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error</code> = <code>[ </code><table class="variant"><tr id="type-error.Msg" class="anchored"><td class="def constructor"><a href="#type-error.Msg" class="anchor"></a><code>| </code><code>`Msg <span class="keyword">of</span> string</code></td></tr></table><code> ]</code></dt><dd><p>Decoder error.</p></dd></dl><dl><dt class="spec value" id="val-pp_error"><a href="#val-pp_error" class="anchor"></a><code><span class="keyword">val</span> pp_error : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-error">error</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>pp_error ppf e</code> pretty-prints <code>e</code> on <code>ppf</code>.</p></dd></dl><section><header><h2 id="encoders"><a href="#encoders" class="anchor"></a>Encoders</h2></header><dl><dt class="spec type" id="type-e"><a href="#type-e" class="anchor"></a><code><span class="keyword">type</span> 'a e</code><code> = <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-json">json</a></code></dt><dd><p>Encoder type.</p></dd></dl><dl><dt class="spec module" id="module-Enc"><a href="#module-Enc" class="anchor"></a><code><span class="keyword">module</span> <a href="Enc/index.html">Enc</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Generic JSON encoder.</p></dd></dl></section><section><header><h2 id="decoders"><a href="#decoders" class="anchor"></a>Decoders</h2></header><dl><dt class="spec type" id="type-d"><a href="#type-d" class="anchor"></a><code><span class="keyword">type</span> 'a d</code><code> = <a href="index.html#type-json">json</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <a href="index.html#type-error">error</a>) Stdlib.result</code></dt><dd><p>Decoder type.</p></dd></dl><dl><dt class="spec module" id="module-Dec"><a href="#module-Dec" class="anchor"></a><code><span class="keyword">module</span> <a href="Dec/index.html">Dec</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Generic JSON decoder.</p></dd></dl></section></div></body></html>