<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tpf_std (tpf.Tpf_std)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">tpf</a> &#x00BB; Tpf_std</nav><h1>Module <code>Tpf_std</code></h1><p>Tpf nice-to-haves.</p><nav class="toc"><ul><li><a href="#stdlib-types">Stdlib types</a></li><li><a href="#useful-generic-functions">Useful generic functions</a></li><li><a href="#applicative">Applicative traversals</a></li><li><a href="#qmap">Query maps</a></li></ul></nav></header><dl><dt class="spec value" id="val-fix"><a href="#val-fix" class="anchor"></a><code><span class="keyword">val</span> fix : ((<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p><code>fix f x</code> is <code>f (fix f) x</code>, the usual fixpoint on functions. This one maximizes sharing: <code>f _</code> is evaluated only once. Sharing is caring.</p></dd></dl><section><header><h2 id="stdlib-types"><a href="#stdlib-types" class="anchor"></a>Stdlib types</h2><p><a href="../Tpf/index.html#data"><span><code>data</code></span></a> representations of some common types.</p></header><dl><dt class="spec value" id="val-unit"><a href="#val-unit" class="anchor"></a><code><span class="keyword">val</span> unit : unit <a href="../Tpf/index.html#type-data0">Tpf.data0</a></code></dt><dt class="spec value" id="val-pair"><a href="#val-pair" class="anchor"></a><code><span class="keyword">val</span> pair : (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'a</span> * <span class="type-var">'b</span>) <a href="../Tpf/index.html#type-data2">Tpf.data2</a></code></dt><dt class="spec value" id="val-triple"><a href="#val-triple" class="anchor"></a><code><span class="keyword">val</span> triple : (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span>) <a href="../Tpf/index.html#type-data3">Tpf.data3</a></code></dt><dt class="spec value" id="val-quadruple"><a href="#val-quadruple" class="anchor"></a><code><span class="keyword">val</span> quadruple : (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span>) <a href="../Tpf/index.html#type-data4">Tpf.data4</a></code></dt><dt class="spec value" id="val-list"><a href="#val-list" class="anchor"></a><code><span class="keyword">val</span> list : (<span class="type-var">'a</span>, <span class="type-var">'a</span> list) <a href="../Tpf/index.html#type-data1">Tpf.data1</a></code></dt><dt class="spec value" id="val-seq"><a href="#val-seq" class="anchor"></a><code><span class="keyword">val</span> seq : (<span class="type-var">'a</span>, <span class="type-var">'a</span> Stdlib.Seq.t) <a href="../Tpf/index.html#type-data1">Tpf.data1</a></code></dt><dt class="spec value" id="val-option"><a href="#val-option" class="anchor"></a><code><span class="keyword">val</span> option : (<span class="type-var">'a</span>, <span class="type-var">'a</span> option) <a href="../Tpf/index.html#type-data1">Tpf.data1</a></code></dt><dt class="spec value" id="val-result"><a href="#val-result" class="anchor"></a><code><span class="keyword">val</span> result : (<span class="type-var">'a</span>, <span class="type-var">'b</span>, (<span class="type-var">'a</span>, <span class="type-var">'b</span>) Stdlib.result) <a href="../Tpf/index.html#type-data2">Tpf.data2</a></code></dt></dl></section><section><header><h2 id="useful-generic-functions"><a href="#useful-generic-functions" class="anchor"></a>Useful generic functions</h2></header><dl><dt class="spec module" id="module-Eq"><a href="#module-Eq" class="anchor"></a><code><span class="keyword">module</span> <a href="Eq/index.html">Eq</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Equality.</p></dd></dl><dl><dt class="spec module" id="module-Cmp"><a href="#module-Cmp" class="anchor"></a><code><span class="keyword">module</span> <a href="Cmp/index.html">Cmp</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Comparison.</p></dd></dl><dl><dt class="spec module" id="module-Iter"><a href="#module-Iter" class="anchor"></a><code><span class="keyword">module</span> <a href="Iter/index.html">Iter</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>iter</code>.</p></dd></dl><dl><dt class="spec module" id="module-Random"><a href="#module-Random" class="anchor"></a><code><span class="keyword">module</span> <a href="Random/index.html">Random</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Random type inhabitants.</p></dd></dl></section><section><header><h2 id="applicative"><a href="#applicative" class="anchor"></a>Applicative traversals</h2><p><a href="../Tpf/index.html#core"><span>Spines</span></a> essentially encode values as expressions in the free applicative functor.</p><p>This API provides a way to uniformly eliminate spines by interpreting them in a chosen applicative. This captures a slightly restricted, but significant class of generic functions.</p><p><b>Note.</b> You can safely ignore this if you don't feel like applicatives today.</p></header><dl><dt class="spec module-type" id="module-type-AppV"><a href="#module-type-AppV" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-AppV/index.html">AppV</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><a href="../Tpf/index.html#type-view"><span>View</span></a>-flavored applicative.</p></dd></dl><dl><dt class="spec module" id="module-AppV"><a href="#module-AppV" class="anchor"></a><code><span class="keyword">module</span> <a href="AppV/index.html">AppV</a> : <span class="keyword">functor</span> (<a href="AppV/argument-1-A/index.html">A</a> : <a href="index.html#module-type-AppV">AppV</a>) <span>&#45;&gt;</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><a href="../Tpf/index.html#type-view"><span>View</span></a> traversal.</p></dd></dl><dl><dt class="spec module-type" id="module-type-AppS"><a href="#module-type-AppS" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-AppS/index.html">AppS</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><a href="../Tpf/index.html#type-schema"><span>Schema</span></a>-flavored applicative.</p></dd></dl><dl><dt class="spec module" id="module-AppS"><a href="#module-AppS" class="anchor"></a><code><span class="keyword">module</span> <a href="AppS/index.html">AppS</a> : <span class="keyword">functor</span> (<a href="AppS/argument-1-A/index.html">A</a> : <a href="index.html#module-type-AppS">AppS</a>) <span>&#45;&gt;</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><a href="../Tpf/index.html#type-schema"><span>Schema</span></a> traversal.</p></dd></dl></section><section><header><h2 id="qmap"><a href="#qmap" class="anchor"></a>Query maps</h2><p>These convert <code>'a t1</code> (represented by <code>('a, 'p) app</code>) generics into <code>'a t2</code> (represented by <code>('a, 'q) app</code>) generics.</p></header><dl><dt class="spec type" id="type-nat"><a href="#type-nat" class="anchor"></a><code><span class="keyword">type</span> ('p, 'q) nat</code><code> = </code><code>{</code><table class="record"><tr id="type-nat.nat" class="anchored"><td class="def field"><a href="#type-nat.nat" class="anchor"></a><code>nat : a. (<span class="type-var">'a</span>, <span class="type-var">'p</span>) <a href="../Tpf/index.html#type-app">Tpf.app</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="../Tpf/index.html#type-app">Tpf.app</a>;</code></td></tr></table><code>}</code></dt><dd><p>Essentially the object part of a natural transformation.</p></dd></dl><dl><dt class="spec value" id="val-vmap"><a href="#val-vmap" class="anchor"></a><code><span class="keyword">val</span> vmap : (<span class="type-var">'p</span>, <span class="type-var">'q</span>) <a href="index.html#type-nat">nat</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'p</span>) <a href="../Tpf/index.html#type-view">Tpf.view</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="../Tpf/index.html#type-view">Tpf.view</a></code></dt><dd><p><code>vmap nat v</code> is the view with the same structure as <code>v</code>, but with queries in <code>q</code>.</p></dd></dl><dl><dt class="spec value" id="val-smap"><a href="#val-smap" class="anchor"></a><code><span class="keyword">val</span> smap : (<span class="type-var">'p</span>, <span class="type-var">'q</span>) <a href="index.html#type-nat">nat</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'p</span>) <a href="../Tpf/index.html#type-schema">Tpf.schema</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="../Tpf/index.html#type-schema">Tpf.schema</a></code></dt><dd><p><code>smap nat s</code> is the schema with the same structure as <code>s</code>, but with queries in <code>q</code>.</p></dd></dl></section></div></body></html>