<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tpf (tpf.Tpf)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">tpf</a> &#x00BB; Tpf</nav><h1>Module <code>Tpf</code></h1><p><code>Tpf</code> — Tagless/Trivial polytypic functions</p><nav class="toc"><ul><li><a href="#over">Overview:</a></li><li><a href="#core">The Core</a><ul><li><a href="#appn">App</a></li></ul></li><li><a href="#data">Data</a></li><li><a href="#writing-generic-functions">Writing generic functions</a></li><li><a href="#metaf">Manipulating <code>meta</code></a></li></ul></nav></header><section><header><h2 id="over"><a href="#over" class="anchor"></a>Overview:</h2><ul><li><p><a href="index.html#core"><span>Core</span></a> only contains types:</p><ul><li><a href="V/index.html"><code>V</code></a> and <a href="S/index.html"><code>S</code></a> — View and Schema spines.</li><li><a href="index.html#type-view"><code>view</code></a> and <a href="index.html#type-schema"><code>schema</code></a> — View and Schema functions.</li><li><a href="index.html#type-meta"><code>meta</code></a> — Constructor meta data.</li></ul></li><li><a href="index.html#data"><span><code>data[n]</code></span></a> is the interface to types.</li><li><a href="Generic/index.html"><code>Generic</code></a> provides support for writing generic functions.</li><li><a href="module-type-P/index.html"><code>P</code></a>, <a href="module-type-Data/index.html"><code>Data</code></a> are signatures to ease exporting generic functions.</li></ul></header></section><section><header><h2 id="core"><a href="#core" class="anchor"></a>The Core</h2></header><dl><dt class="spec type" id="type-app"><a href="#type-app" class="anchor"></a><code><span class="keyword">type</span> (+'a, +'f) app</code></dt><dd><p>Type representing type application of <code>f</code> to <code>a</code> in the style of <a href="https://github.com/ocamllabs/higher">higher</a>.</p></dd></dl><dl><dt class="spec module" id="module-V"><a href="#module-V" class="anchor"></a><code><span class="keyword">module</span> <a href="V/index.html">V</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>V</code> is for <a href="index.html#type-view"><code>view</code></a>.</p></dd></dl><dl><dt class="spec module" id="module-S"><a href="#module-S" class="anchor"></a><code><span class="keyword">module</span> <a href="S/index.html">S</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>S</code> is for <a href="index.html#type-schema"><code>schema</code></a>.</p></dd></dl><dl><dt class="spec type" id="type-meta"><a href="#type-meta" class="anchor"></a><code><span class="keyword">type</span> meta</code></dt><dd><p>Meta blocks collect extra information about a constructor.</p></dd></dl><dl><dt class="spec type" id="type-view"><a href="#type-view" class="anchor"></a><code><span class="keyword">type</span> ('a, +'q) view</code><code> = (<span class="type-var">'a</span> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="V/index.html#type-spine">V.spine</a>) * (<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-meta">meta</a>)</code></dt><dd><p>Generic representation for consumer functions. It can <em>view</em> a value as a <a href="V/index.html#type-spine"><code>V.spine</code></a> or <a href="index.html#type-meta"><code>meta</code></a>.</p><p>This <code>gfoldl</code> in <em>SYB</em>.</p></dd></dl><dl><dt class="spec type" id="type-schema"><a href="#type-schema" class="anchor"></a><code><span class="keyword">type</span> ('a, +'q) schema</code><code> = ((<span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="S/index.html#type-spine">S.spine</a> * <a href="index.html#type-meta">meta</a>) list</code></dt><dd><p>Generic representation for producer functions. It encodes the set of constructors of a type.</p><p>This is <code>gunfold</code> in <em>SYB</em>.</p></dd></dl><dl><dt class="spec value" id="val-spine"><a href="#val-spine" class="anchor"></a><code><span class="keyword">val</span> spine : (<span class="type-var">'a</span> * <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>spine</code> is <code>fst</code>. Spine is always first.</p></dd></dl><dl><dt class="spec value" id="val-meta"><a href="#val-meta" class="anchor"></a><code><span class="keyword">val</span> meta : (<span class="type-var">'a</span> * <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p><code>meta</code> is <code>snd</code>. Meta block is always second.</p></dd></dl><section><header><h3 id="appn"><a href="#appn" class="anchor"></a>App</h3></header><aside><p><code>(t1, ..., q, res) app[n]</code> is an alias for <code>n</code>-ary functions <code>(t1, q) app -&gt; ... -&gt; res</code>.</p></aside><dl><dt class="spec type" id="type-app0"><a href="#type-app0" class="anchor"></a><code><span class="keyword">type</span> ('q, 'res) app0</code><code> = <span class="type-var">'res</span></code></dt><dt class="spec type" id="type-app1"><a href="#type-app1" class="anchor"></a><code><span class="keyword">type</span> ('a, 'q, 'res) app1</code><code> = (<span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="index.html#type-app">app</a> <span>&#45;&gt;</span> (<span class="type-var">'q</span>, <span class="type-var">'res</span>) <a href="index.html#type-app0">app0</a></code></dt><dt class="spec type" id="type-app2"><a href="#type-app2" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'q, 'res) app2</code><code> = (<span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="index.html#type-app">app</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'q</span>, <span class="type-var">'res</span>) <a href="index.html#type-app1">app1</a></code></dt><dt class="spec type" id="type-app3"><a href="#type-app3" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'q, 'res) app3</code><code> = (<span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="index.html#type-app">app</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'q</span>, <span class="type-var">'res</span>) <a href="index.html#type-app2">app2</a></code></dt><dt class="spec type" id="type-app4"><a href="#type-app4" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'd, 'q, 'res) app4</code><code> = (<span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="index.html#type-app">app</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'q</span>, <span class="type-var">'res</span>) <a href="index.html#type-app3">app3</a></code></dt><dt class="spec type" id="type-app5"><a href="#type-app5" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'd, 'e, 'q, 'res) app5</code><code> = (<span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="index.html#type-app">app</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'q</span>, <span class="type-var">'res</span>) <a href="index.html#type-app4">app4</a></code></dt><dt class="spec type" id="type-app6"><a href="#type-app6" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'd, 'e, 'f, 'q, 'res) app6</code><code> = (<span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="index.html#type-app">app</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>, <span class="type-var">'q</span>, <span class="type-var">'res</span>) <a href="index.html#type-app5">app5</a></code></dt><dt class="spec type" id="type-app7"><a href="#type-app7" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'd, 'e, 'f, 'g, 'q, 'res) app7</code><code> = (<span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="index.html#type-app">app</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>, <span class="type-var">'g</span>, <span class="type-var">'q</span>, <span class="type-var">'res</span>) <a href="index.html#type-app6">app6</a></code></dt><dt class="spec type" id="type-app8"><a href="#type-app8" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'd, 'e, 'f, 'g, 'h, 'q, 'res) app8</code><code> = (<span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="index.html#type-app">app</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>, <span class="type-var">'g</span>, <span class="type-var">'h</span>, <span class="type-var">'q</span>, <span class="type-var">'res</span>) <a href="index.html#type-app7">app7</a></code></dt><dt class="spec type" id="type-app9"><a href="#type-app9" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'd, 'e, 'f, 'g, 'h, 'i, 'q, 'res) app9</code><code> = (<span class="type-var">'a</span>, <span class="type-var">'q</span>) <a href="index.html#type-app">app</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>, <span class="type-var">'g</span>, <span class="type-var">'h</span>, <span class="type-var">'i</span>, <span class="type-var">'q</span>, <span class="type-var">'res</span>) <a href="index.html#type-app8">app8</a></code></dt></dl></section></section><section><header><h2 id="data"><a href="#data" class="anchor"></a>Data</h2></header><aside><p><code>data[n]</code> packages up the <a href="index.html#type-view"><code>view</code></a> and <a href="index.html#type-schema"><code>schema</code></a> for a single type which contains <code>n</code> other types. This is the easiest generic representation to handle, but it is not necessary.</p><p>Generically representable types should export their <code>data</code>.</p><p>Generic functions should export a <code>data</code>-based interface, together with a naked function that operates directly on a <a href="index.html#type-view"><code>view</code></a> or <a href="index.html#type-schema"><code>schema</code></a>.</p></aside><dl><dt class="spec type" id="type-data0"><a href="#type-data0" class="anchor"></a><code><span class="keyword">type</span> 'x data0</code><code> = </code><code>{</code><table class="record"><tr id="type-data0.view" class="anchored"><td class="def field"><a href="#type-data0.view" class="anchor"></a><code>view : q. (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-view">view</a>;</code></td></tr><tr id="type-data0.schema" class="anchored"><td class="def field"><a href="#type-data0.schema" class="anchor"></a><code>schema : q. (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-schema">schema</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-data1"><a href="#type-data1" class="anchor"></a><code><span class="keyword">type</span> ('a, 'x) data1</code><code> = </code><code>{</code><table class="record"><tr id="type-data1.view" class="anchored"><td class="def field"><a href="#type-data1.view" class="anchor"></a><code>view : q. (<span class="type-var">'a</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-view">view</a>) <a href="index.html#type-app1">app1</a>;</code></td></tr><tr id="type-data1.schema" class="anchored"><td class="def field"><a href="#type-data1.schema" class="anchor"></a><code>schema : q. (<span class="type-var">'a</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-schema">schema</a>) <a href="index.html#type-app1">app1</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-data2"><a href="#type-data2" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'x) data2</code><code> = </code><code>{</code><table class="record"><tr id="type-data2.view" class="anchored"><td class="def field"><a href="#type-data2.view" class="anchor"></a><code>view : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-view">view</a>) <a href="index.html#type-app2">app2</a>;</code></td></tr><tr id="type-data2.schema" class="anchored"><td class="def field"><a href="#type-data2.schema" class="anchor"></a><code>schema : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-schema">schema</a>) <a href="index.html#type-app2">app2</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-data3"><a href="#type-data3" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'x) data3</code><code> = </code><code>{</code><table class="record"><tr id="type-data3.view" class="anchored"><td class="def field"><a href="#type-data3.view" class="anchor"></a><code>view : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-view">view</a>) <a href="index.html#type-app3">app3</a>;</code></td></tr><tr id="type-data3.schema" class="anchored"><td class="def field"><a href="#type-data3.schema" class="anchor"></a><code>schema : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-schema">schema</a>) <a href="index.html#type-app3">app3</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-data4"><a href="#type-data4" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'd, 'x) data4</code><code> = </code><code>{</code><table class="record"><tr id="type-data4.view" class="anchored"><td class="def field"><a href="#type-data4.view" class="anchor"></a><code>view : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-view">view</a>) <a href="index.html#type-app4">app4</a>;</code></td></tr><tr id="type-data4.schema" class="anchored"><td class="def field"><a href="#type-data4.schema" class="anchor"></a><code>schema : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-schema">schema</a>) <a href="index.html#type-app4">app4</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-data5"><a href="#type-data5" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'd, 'e, 'x) data5</code><code> = </code><code>{</code><table class="record"><tr id="type-data5.view" class="anchored"><td class="def field"><a href="#type-data5.view" class="anchor"></a><code>view : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-view">view</a>) <a href="index.html#type-app5">app5</a>;</code></td></tr><tr id="type-data5.schema" class="anchored"><td class="def field"><a href="#type-data5.schema" class="anchor"></a><code>schema : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-schema">schema</a>) <a href="index.html#type-app5">app5</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-data6"><a href="#type-data6" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'd, 'e, 'f, 'x) data6</code><code> = </code><code>{</code><table class="record"><tr id="type-data6.view" class="anchored"><td class="def field"><a href="#type-data6.view" class="anchor"></a><code>view : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-view">view</a>) <a href="index.html#type-app6">app6</a>;</code></td></tr><tr id="type-data6.schema" class="anchored"><td class="def field"><a href="#type-data6.schema" class="anchor"></a><code>schema : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-schema">schema</a>) <a href="index.html#type-app6">app6</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-data7"><a href="#type-data7" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'd, 'e, 'f, 'g, 'x) data7</code><code> = </code><code>{</code><table class="record"><tr id="type-data7.view" class="anchored"><td class="def field"><a href="#type-data7.view" class="anchor"></a><code>view : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>, <span class="type-var">'g</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-view">view</a>) <a href="index.html#type-app7">app7</a>;</code></td></tr><tr id="type-data7.schema" class="anchored"><td class="def field"><a href="#type-data7.schema" class="anchor"></a><code>schema : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>, <span class="type-var">'g</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-schema">schema</a>) <a href="index.html#type-app7">app7</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-data8"><a href="#type-data8" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'd, 'e, 'f, 'g, 'h, 'x) data8</code><code> = </code><code>{</code><table class="record"><tr id="type-data8.view" class="anchored"><td class="def field"><a href="#type-data8.view" class="anchor"></a><code>view : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>, <span class="type-var">'g</span>, <span class="type-var">'h</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-view">view</a>) <a href="index.html#type-app8">app8</a>;</code></td></tr><tr id="type-data8.schema" class="anchored"><td class="def field"><a href="#type-data8.schema" class="anchor"></a><code>schema : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>, <span class="type-var">'g</span>, <span class="type-var">'h</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-schema">schema</a>) <a href="index.html#type-app8">app8</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-data9"><a href="#type-data9" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b, 'c, 'd, 'e, 'f, 'g, 'h, 'i, 'x) data9</code><code> = </code><code>{</code><table class="record"><tr id="type-data9.view" class="anchored"><td class="def field"><a href="#type-data9.view" class="anchor"></a><code>view : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>, <span class="type-var">'g</span>, <span class="type-var">'h</span>, <span class="type-var">'i</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-view">view</a>) <a href="index.html#type-app9">app9</a>;</code></td></tr><tr id="type-data9.schema" class="anchored"><td class="def field"><a href="#type-data9.schema" class="anchor"></a><code>schema : q. (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>, <span class="type-var">'g</span>, <span class="type-var">'h</span>, <span class="type-var">'i</span>, <span class="type-var">'q</span>, (<span class="type-var">'x</span>, <span class="type-var">'q</span>) <a href="index.html#type-schema">schema</a>) <a href="index.html#type-app9">app9</a>;</code></td></tr></table><code>}</code></dt></dl></section><section><header><h2 id="writing-generic-functions"><a href="#writing-generic-functions" class="anchor"></a>Writing generic functions</h2></header><dl><dt class="spec module-type" id="module-type-P"><a href="#module-type-P" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-P/index.html">P</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Packages up the basic user-facing part of a <a href="Generic/index.html"><code>Generic</code></a> instance.</p></dd></dl><dl><dt class="spec module-type" id="module-type-Data"><a href="#module-type-Data" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Data/index.html">Data</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Packages up <a href="index.html#data"><span>data</span></a>-based entry points to a generic function.</p></dd></dl><dl><dt class="spec module" id="module-Generic"><a href="#module-Generic" class="anchor"></a><code><span class="keyword">module</span> <a href="Generic/index.html">Generic</a> : <span class="keyword">functor</span> (<a href="Generic/argument-1-Q/index.html">Q</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) <span>&#45;&gt;</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Interface between the outside world and a <code>spine</code>.</p></dd></dl></section><section><header><h2 id="metaf"><a href="#metaf" class="anchor"></a>Manipulating <code>meta</code></h2></header><dl><dt class="spec value" id="val-variant"><a href="#val-variant" class="anchor"></a><code><span class="keyword">val</span> variant : ?&#8288;labels:string array <span>&#45;&gt;</span> int <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-meta">meta</a></code></dt><dd><p><code>variant ~labels index name</code> is a variant, component in a sum type.</p><p><code>index</code> is this constructor position in the type definition, and must be unique within the type. <code>name</code> is the constructor name, and must not be <code>&quot;&quot;</code>.</p><p>If <code>labels</code> are specified, the constructor is an inline record.</p></dd></dl><dl><dt class="spec value" id="val-record"><a href="#val-record" class="anchor"></a><code><span class="keyword">val</span> record : string array <span>&#45;&gt;</span> <a href="index.html#type-meta">meta</a></code></dt><dd><p><code>record labels</code> is a record. It must be the only constructor in the type, and <code>labels</code> must be non-empty.</p></dd></dl><dl><dt class="spec value" id="val-name"><a href="#val-name" class="anchor"></a><code><span class="keyword">val</span> name : <a href="index.html#type-meta">meta</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>name meta</code> is constructor name. If <code>meta</code> is a record, its name is <code>&quot;&quot;</code>.</p></dd></dl><dl><dt class="spec value" id="val-index"><a href="#val-index" class="anchor"></a><code><span class="keyword">val</span> index : <a href="index.html#type-meta">meta</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>index meta</code> is constructor position in the type definition.</p></dd></dl><dl><dt class="spec value" id="val-labels"><a href="#val-labels" class="anchor"></a><code><span class="keyword">val</span> labels : <a href="index.html#type-meta">meta</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>labels meta</code> is the number of constructor labels.</p></dd></dl><dl><dt class="spec value" id="val-label"><a href="#val-label" class="anchor"></a><code><span class="keyword">val</span> label : <a href="index.html#type-meta">meta</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> string</code></dt><dd><p><code>label meta i</code> is <code>i</code>-th constructor label.</p><dl><dt>raises Invalid_argument</dt><dd><p>then the constructor does not have <code>i</code>-th label.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-has_label"><a href="#val-has_label" class="anchor"></a><code><span class="keyword">val</span> has_label : <a href="index.html#type-meta">meta</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> bool</code></dt><dd><p><code>has_label m name</code> is <code>true</code> iff the constructor has a label <code>name</code>.</p></dd></dl><dl><dt class="spec value" id="val-pp_meta"><a href="#val-pp_meta" class="anchor"></a><code><span class="keyword">val</span> pp_meta : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-meta">meta</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>pp_meta</code> pretty-prints a meta block in a human-readable way.</p></dd></dl></section></div></body></html>